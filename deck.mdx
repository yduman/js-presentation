import { Image } from "mdx-deck"
import HappyHacking from "./HappyHacking"
export { default as theme } from "./theme"

<Image src="./assets/express_react.png" size="300" />

---

## Table of Contents

- ``npm``, ``yarn``, ``package.json``, Lockfiles
- Backend (Express, REST, MongoDB, Deployment, Testing)
- Frontend (React, Main Concepts, Testing)
- General Advice

---

## Package Manager

- either `npm` or `yarn`
- manage dependencies, scripts, meta-informations, ...
- first thing to look at: `package.json`

---

## Typical package.json

```json
{
  "name": "retro",
  "version": "0.1.0",
  "private": true,
  "scripts": { },
  "dependencies": { },
  "devDependencies": { },
  "proxy": "http://localhost:8081"
}
```

https://docs.npmjs.com/files/package.json

---

## Bootstrapping

- run `yarn init` on an empty folder
- add dependencies with `yarn add <library>`
- add dev-dependencies with `yarn add --dev <library>`
- run scripts with `yarn <script_name>`
- install dependencies with `yarn`
- and please... add `node_modules` to `.gitignore`

---

## Lockfiles

- to get consistent installs across machines
- lockfiles contain the exact version of each dependency
- always commit!
- `yarn.lock` or `package-lock.json`

---

# Backend with Express

---

## Setup

- `yarn init`
- `yarn add express`
- `yarn add --dev nodemon`

```json
"scripts": {
  "start": "nodemon ./src/server.js"
}
```

- `yarn start`

---

## Hello World


```javascript
const express = require("express");
const http = require("http");

// init express app and supply it to an http server
const app = express();
const server = http.createServer(app);

app.get("/", (req, res) => {
  res.send({ hello: "world" });
});

const port = 8081;
server.listen(port, () => console.log(`Listening on port ${port}`));
```

---

## Sample Project Structure

```
backend/
|__ node_modules/
|__ src/
|   |__ config/       Environment config
|   |__ db/           Database config
|   |__ middleware/   Own middlewares
|   |__ models/       DB Models
|   |__ public/       Files you serve
|   |__ routes/       REST routes
|   |__ tests/        Unit Tests
|   |__ utils/        Utility Functions
|   |__ server.js     Server Root
|__ package.json
|__ processes.json    PM2 config
|__ yarn.lock
```

http://react-file-structure.surge.sh/

---

## HTTP-Verbs

|Verb|Description|
|---|---|
|GET|should only retrieve data|
|POST|used to submit an entity to the specified resource|
|PATCH|used to apply partial modifications to a resource|
|PUT|replaces all current representations of <br/> the target resource with the request payload|
|DELETE|deletes the specified resource|

---

## Let's develop a REST API

---

## Scenario

- we will manage users
- usage of authentication and private routes
- usage of MongoDB and Mongoose ODM

---

## Our API

|HTTP|Endpoint|Description|
|---|---|---|
|GET|/api/user/me|get logged in user|
|GET|/api/user/:username|get user by username|
|POST|/api/user/|user registration|
|POST|/api/user/login|user login|
|DELETE|/api/user/:id|delete user by ID|
|DELETE|/api/user/logout|user logout|

---

## Setup

- install MongoDB and Robo3T
- get Postman or Insomnia

```
$ mkdir backend && cd backend
$ yarn init
$ yarn add express body-parser mongodb mongoose lodash jsonwebtoken bcryptjs
$ yarn add --dev nodemon chai mocha supertest
$ mkdir src && cd src && touch server.js
// add start script...
// edit server.js ...
$ yarn start
```
---

# Live Example

---

## Run Forever with PM2

```json
{
  "apps": [{
    "name": "UserManagement",
    "script": "src/server.js",
    "watch": "src/",
    "ignore_watch": "src/uploads",
    "log_date_format": "YYYY-MM-DD HH:mm Z"
  }]
}
```

https://pm2.io/runtime/

---

# Frontend with React

---

## Create React App

- *"Create React apps with no build configuration."*
- Version 2.0 is released since October 1st ‚ù§Ô∏è

`npx create-react-app <app_name>`

---

# Main Concepts

https://reactjs.org/docs/getting-started.html

---

## Components and Props

Components let you split the UI into independent, reusable pieces, and think about each piece in isolation.

---

## State and Lifecycle

---

## Handling Events

Handling events with React elements is very similar to handling events on DOM elements. There are some syntactic differences:

- React events are named using camelCase, rather than lowercase.
- With JSX you pass a function as the event handler, rather than a string.

---

## Conditional Rendering

- In React, you can create distinct components that encapsulate behavior you need. Then, you can render only some of them, depending on the state of your application.

---

## Lists and Keys

---

## Forms

---

# Live Example

---

# Last Words

- Learning by doing
- Be curious
- Google it
- Use your notepad
- Read Blogs
- Check GitHub
- Online Courses

---

<div>
  <HappyHacking>
    Happy Hacking! üë®‚Äç‚Äçüíª
  </HappyHacking>
  <img src={"https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif"} alt="cat hacking" width="400px" />
</div>